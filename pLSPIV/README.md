# pLSPIV-V2
Second Version of pLSPIV  

# pLSPIV
Main Function: Pseudo-Line Scanning Particle Image Velocimetry  

Fork of original research paper which allows for the analysis of pseudo line scans: [LSPIV](https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0038590)  

Installation: Remember to install Imagej plugin. Installation instructions can be found [here](https://www.mathworks.com/matlabcentral/fileexchange/47545-mij-running-imagej-and-fiji-within-matlab)  

## Multi_Blood_Flow
Main function: Takes a blood flow video file in multiff format and calculated blood vessel flow velocity and diameter.  

TO USE:  

Parameters:  

## Vessel_Diameter
Get Vessel Diameter based on [FWHM](https://www.mathworks.com/matlabcentral/fileexchange/10590-fwhm) of a single image   


## VD_MBF 
Plot velocity from input line scan imaage
## VC_MBF_LSPIV
Calculate velocity passed from `VD_MBF`  


### LSPIV_Parallel_Multi
Gets velocity specified by hand drawn line 
> Called after hand drawn line scan is generated at the start of `Multi_Blood_Flow` script
### LSPIV_Parallel_Multi_Box
Get velocity of line specified by box scan
> Called after box line scan is generated by `Multi_Blood_Flow` script
### fwhm
Full-Width Half-Measure: Get width of blood vessel by looking at area with significant intensity
> Called at the end of the `Multi_Blood_Flow` script
### textprogressbar
Print out a progress bar as program iterates through image files
> Called in `Multi_Blood_Flow` script as files are loaded and analyzed


## Issues
- [ x ]  `Multi_Blood_Flow` Will not analyze last 100 frames of image - Resolved with Full analysis by reducing number of frames that are averaged for background
- [ x ] `VB_MBF_LSPIV` sometimes return an error having to do with NaN values - Resolved by specifying variable as a double

